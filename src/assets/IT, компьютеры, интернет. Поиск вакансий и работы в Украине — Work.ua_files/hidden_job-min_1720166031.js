var LABEL_FROM_JOB_SEARCH="fromJobSearch",LABEL_FROM_JOB_PAGE="fromJobPage",LABEL_FROM_PERSONAL_FEED="fromPersonalFeed";function hideJob(e,a){if(a){var n="//"+location.hostname+Work.localeService.getURLPrefix()+"/ajax/jobseeker/hidden-jobs/",d=$("#new-vacancies").length>0||$("#viewed-vacancies").length>0,o=d?LABEL_FROM_PERSONAL_FEED:LABEL_FROM_JOB_SEARCH;$.ajax({url:n,type:"POST",data:{jobId:a},headers:{"X-GA-Label":o}}).fail((function(){})).done((function(a){var n=e.closest(".card"),o=$("<div>",{class:"job-hidden"});a.hasOwnProperty("message")&&(o.append("<b>"+lang.hide_job.title+"</b>"),o.append('<p class="add-top-sm cut-bottom text-muted">'+a.message+"</p>")),a.hasOwnProperty("id")&&o.append('<div class="add-top"><button class="btn btn-icon btn-icon-left btn-default-outline fn-hidden-job-lnk js-cancel-job" data-id="'+a.id+'"><span class="glyphicon glyphicon-fs-24 glyphicon-restore"></span><span>'+lang.hide_job.cancel_button+"</span></button></div>"),d&&(n=$('.job-link[data-id="'+n.data("id")+'"]')),n.find(".job-hidden").remove(),n.append(o).addClass("js-job-hidden fn-hidden-job-non-clicked").removeClass("card-hover")}))}}$(document).on("click",".js-hide-job",(function(e){e.preventDefault();var a=$(this);hideJob(a,a.data("id"))})),$(document).on("click",".js-hide-job-view",(function(e){e.preventDefault();var a=$(this).data("job-id");if(a){var n="//"+location.hostname+Work.localeService.getURLPrefix()+"/ajax/jobseeker/hidden-jobs/";$.ajax({url:n,type:"POST",data:{jobId:a},headers:{"X-GA-Label":LABEL_FROM_JOB_PAGE}}).fail((function(){})).done((function(e){$("#hide").html('<span class="glyphicon glyphicon-fs-24 glyphicon-restore"></span><span>'+lang.hide_job.cancel_button+"</span>");var a=$(".js-hide-job-view");a.data("hidden-id",e.id),a.removeClass("js-hide-job-view").addClass("js-cancel-job-view")}))}})),$(document).on("click",".js-cancel-job",(function(e){e.preventDefault();var a=$(this),n=$("#new-vacancies").length>0||$("#viewed-vacancies").length>0,d=n?LABEL_FROM_PERSONAL_FEED:LABEL_FROM_JOB_SEARCH;$.ajax({url:"/ajax/jobseeker/hidden-jobs/"+a.data("id")+"/",type:"DELETE",headers:{"X-GA-Label":d}}).fail((function(){})).done((function(){var e=a.closest(".card");n&&(e=$('.job-link[data-id="'+e.data("id")+'"]')),e.find(".job-hidden").remove(),e.removeClass("js-job-hidden fn-hidden-job-non-clicked").addClass("card-hover")}))})),$(document).on("click",".js-cancel-job-view",(function(e){e.preventDefault();var a=$(this).data("hidden-id");a&&$.ajax({url:"/ajax/jobseeker/hidden-jobs/"+a+"/",type:"DELETE",headers:{"X-GA-Label":LABEL_FROM_JOB_PAGE}}).fail((function(){})).done((function(){$("#hide").html('<span class="glyphicon glyphicon-fs-24 glyphicon-hide"></span><span>'+lang.hide_job.hide+"</span>");var e=$(".js-cancel-job-view");e.data("hidden-id",""),e.removeClass("js-cancel-job-view").addClass("js-hide-job-view")}))}));